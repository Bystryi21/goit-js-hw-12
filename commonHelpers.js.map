{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const api = 'https://pixabay.com/api/';\nconst apiKey = '44781462-ae4aaccc0a5ec19c0259ffb3b';\nconst imageType = 'photo';\nconst orientation = 'horizontal';\nconst safeSearch = true;\n\nexport function fetchImage(q) {\n  const url = `${api}?key=${apiKey}&q=${encodeURIComponent(\n    q\n  )}&image_type=${imageType}&orientation=${orientation}&safesearch=${safeSearch}`;\n\n  return fetch(url)\n    .then(res => {\n      if (!res.ok) throw new Error('Network response was not ok');\n      return res.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error('No images found');\n      }\n      return data.hits;\n    });\n}\n","export function createModalWindow(images) {\n  return images\n    .map(\n      image => `<a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        <div class=\"info\">\n          <p><strong>Likes:</strong> ${image.likes}</p>\n          <p><strong>Views:</strong> ${image.views}</p>\n          <p><strong>Comments:</strong> ${image.comments}</p>\n          <p><strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n      </a>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImage } from './js/pixabay-api';\nimport { createModalWindow } from './js/render-functions';\n\nconst loader = document.querySelector('#loader');\nconst form = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', function (evt) {\n  evt.preventDefault();\n\n  const searchQuery = evt.target.search.value.trim();\n  if (!searchQuery) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Search field cannot be empty!',\n    });\n    return;\n  }\n\n  loader.style.display = 'block';\n\n  fetchImage(searchQuery)\n    .then(images => {\n      loader.style.display = 'none';\n      gallery.innerHTML = createModalWindow(images);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      loader.style.display = 'none';\n      if (error.message === 'No images found') {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: 'Failed to fetch images. Please try again later.',\n        });\n      }\n    });\n});\n"],"names":["api","apiKey","imageType","orientation","safeSearch","fetchImage","q","url","res","data","createModalWindow","images","image","loader","form","gallery","lightbox","SimpleLightbox","evt","searchQuery","iziToast","error"],"mappings":"6vBAAA,MAAMA,EAAM,2BACNC,EAAS,qCACTC,EAAY,QACZC,EAAc,aACdC,EAAa,GAEZ,SAASC,EAAWC,EAAG,CAC5B,MAAMC,EAAM,GAAGP,CAAG,QAAQC,CAAM,MAAM,mBACpCK,CACJ,CAAG,eAAeJ,CAAS,gBAAgBC,CAAW,eAAeC,CAAU,GAE7E,OAAO,MAAMG,CAAG,EACb,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAM,6BAA6B,EAC1D,OAAOA,EAAI,MACjB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAK,IAClB,CAAK,CACL,CCtBO,SAASC,EAAkBC,EAAQ,CACxC,OAAOA,EACJ,IACCC,GAAS,YAAYA,EAAM,aAAa,yCAAyCA,EAAM,IAAI;AAAA,oBAC7EA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,uCAEnBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,2CACbA,EAAM,SAAS;AAAA;AAAA,WAGrD,EACA,KAAK,EAAE,CACZ,CCPA,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDH,EAAK,iBAAiB,SAAU,SAAUI,EAAK,CAC7CA,EAAI,eAAc,EAElB,MAAMC,EAAcD,EAAI,OAAO,OAAO,MAAM,OAC5C,GAAI,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACf,CAAK,EACD,MACD,CAEDP,EAAO,MAAM,QAAU,QAEvBR,EAAWc,CAAW,EACnB,KAAKR,GAAU,CACdE,EAAO,MAAM,QAAU,OACvBE,EAAQ,UAAYL,EAAkBC,CAAM,EAC5CK,EAAS,QAAO,CACtB,CAAK,EACA,MAAMK,GAAS,CACdR,EAAO,MAAM,QAAU,OACnBQ,EAAM,UAAY,kBACpBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,0EACZ,CAAS,EAEDA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,iDACnB,CAAS,CAET,CAAK,CACL,CAAC"}